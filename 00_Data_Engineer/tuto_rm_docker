# 1) Arrêter et supprimer tous les conteneurs
docker stop $(docker ps -aq) 2>/dev/null || true
docker rm -f $(docker ps -aq) 2>/dev/null || true

# 2) Supprimer toutes les images
docker rmi -f $(docker images -aq) 2>/dev/null || true

# 3) Supprimer tous les volumes
docker volume rm $(docker volume ls -q) 2>/dev/null || true

# 4) Nettoyer les réseaux orphelins
docker network prune -f

# 5) Grand ménage final (y compris volumes non utilisés restants)
docker system prune -a --volumes -f

# (Optionnel) Vérifs : tout doit être vide
docker ps -a
docker images -a
docker volume ls
docker network ls

